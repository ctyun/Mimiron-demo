<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Mimiron-demo by ctyun</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Mimiron-demo</h1>
      <h2 class="project-tagline">本文档用于引导用户如何使用Mimiron进行后台页面快速开发.</h2>
      <a href="https://github.com/ctyun/Mimiron-demo" class="btn">View on GitHub</a>
      <a href="https://github.com/ctyun/Mimiron-demo/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/ctyun/Mimiron-demo/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="mimiron使用指导" class="anchor" href="#mimiron%E4%BD%BF%E7%94%A8%E6%8C%87%E5%AF%BC" aria-hidden="true"><span class="octicon octicon-link"></span></a>Mimiron使用指导</h1>

<h2>
<a id="0说明" class="anchor" href="#0%E8%AF%B4%E6%98%8E" aria-hidden="true"><span class="octicon octicon-link"></span></a>0.说明</h2>

<p>本文档用于引导用户如何使用Mimiron进行后台页面快速开发.</p>

<h2>
<a id="1准备工作" class="anchor" href="#1%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C" aria-hidden="true"><span class="octicon octicon-link"></span></a>1.准备工作</h2>

<h3>
<a id="11-下载组件库-拷贝dist文件夹到你的工程web目录下" class="anchor" href="#11-%E4%B8%8B%E8%BD%BD%E7%BB%84%E4%BB%B6%E5%BA%93-%E6%8B%B7%E8%B4%9Ddist%E6%96%87%E4%BB%B6%E5%A4%B9%E5%88%B0%E4%BD%A0%E7%9A%84%E5%B7%A5%E7%A8%8Bweb%E7%9B%AE%E5%BD%95%E4%B8%8B" aria-hidden="true"><span class="octicon octicon-link"></span></a>1.1 下载<a href="https://github.com/ctyun/Mimiron-demo/archive/master.zip">组件库</a>, 拷贝<em>dist</em>文件夹到你的工程WEB目录下.</h3>

<h3>
<a id="12-新建页面" class="anchor" href="#12-%E6%96%B0%E5%BB%BA%E9%A1%B5%E9%9D%A2" aria-hidden="true"><span class="octicon octicon-link"></span></a>1.2 新建页面</h3>

<p>在你正在使用的后端框架中新建一个页面, 或者像下面一样新建一个html文件:</p>

<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta http-equiv='Content-type' content='text/html; charset=utf-8'&gt;
  &lt;title&gt;Demo&lt;/title&gt;

&lt;/head&gt;
&lt;body&gt;
  &lt;div id="demo-wrapper"&gt; &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<h2>
<a id="2使用基本组件" class="anchor" href="#2%E4%BD%BF%E7%94%A8%E5%9F%BA%E6%9C%AC%E7%BB%84%E4%BB%B6" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.使用基本组件</h2>

<blockquote>
<p>如果你有React经验, 可以跳过这节, 直接参考我们在github上部署的<a href="http://ctyun.github.io/Mimiron-demo/base-demo/base-demo.html">结果页面</a>源码.</p>
</blockquote>

<h3>
<a id="21-引入jquery" class="anchor" href="#21-%E5%BC%95%E5%85%A5jquery" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.1 引入jQuery</h3>

<p>在body中引入jQuery, 考虑到jQuery广泛应用在各种js类库中, 而且均被要求先于js类库引入, 所以我们并没有把jQuery打包到组件库里.</p>

<pre><code>&lt;script src="../dist/third/jquery.js"&gt;&lt;/script&gt;
</code></pre>

<h3>
<a id="22-引入jsx语法转义器" class="anchor" href="#22-%E5%BC%95%E5%85%A5jsx%E8%AF%AD%E6%B3%95%E8%BD%AC%E4%B9%89%E5%99%A8" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.2 引入JSX语法转义器</h3>

<p>为了书写jsx语法代码, 需要引入组件库之前先引入jsx语法转义器.</p>

<pre><code>&lt;script src="../dist/third/JSXTransformer.js"&gt;&lt;/script&gt;
</code></pre>

<h3>
<a id="23-引入组件库" class="anchor" href="#23-%E5%BC%95%E5%85%A5%E7%BB%84%E4%BB%B6%E5%BA%93" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.3 引入组件库</h3>

<p>一切准备妥当, 可以引入组件库了.</p>

<pre><code>&lt;link type="text/css" rel="stylesheet" href="../dist/UI/css/main.css"&gt;
&lt;script src="../dist/React-Components-0.1.0.min.js"&gt;&lt;/script&gt;
</code></pre>

<h3>
<a id="24-使用第一个组件" class="anchor" href="#24-%E4%BD%BF%E7%94%A8%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%BB%84%E4%BB%B6" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.4 使用第一个组件</h3>

<p>一切就绪, 可以开始使用组件库中丰富的组件了.
首先在html(或者你使用的后端框架的模版页面里)的body中新建一个<code>&lt;div id="demo-wrapper"&gt;</code>标签, 所有组件会被渲染到这个标签里.
然后新建一个<em>main.js</em>文件, 并在html文件中引用, 拼接组件的工作将在这里进行.
在<em>main.js</em>中像这样使用组件:</p>

<pre><code>var React= components.React;
var Button = components.Button;

var ThisPage = React.createClass({
    render: function(){
        return(&lt;div&gt;
                &lt;Button btnName="演示button"/&gt;
            &lt;/div&gt;);
    }
});
React.render(&lt;ThisPage /&gt;, document.getElementById('demo-wrapper'));
</code></pre>

<blockquote>
<p>如果遇到困难, 可以参考我们在github上部署的<a href="http://ctyun.github.io/Mimiron-demo/base-demo/base-demo.html">结果页面</a></p>
</blockquote>

<h3>
<a id="25-使用更多组件" class="anchor" href="#25-%E4%BD%BF%E7%94%A8%E6%9B%B4%E5%A4%9A%E7%BB%84%E4%BB%B6" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.5 使用更多组件</h3>

<p>查看<a href="http://%E7%AD%89%E5%BE%85%E8%A1%A5%E5%85%85">API文档</a>, 了解更多的组件用法.</p>

<h2>
<a id="3-使用组件库构建后台页面" class="anchor" href="#3-%E4%BD%BF%E7%94%A8%E7%BB%84%E4%BB%B6%E5%BA%93%E6%9E%84%E5%BB%BA%E5%90%8E%E5%8F%B0%E9%A1%B5%E9%9D%A2" aria-hidden="true"><span class="octicon octicon-link"></span></a>3. 使用组件库构建后台页面</h2>

<blockquote>
<p>至此, 组件库基本用法已经介绍完毕, 你可以开始基于组件库进行组合和开发了. 这一节对组件库中几个特别的组件进行介绍, 帮助快速开发后台页面. 如果不想阅读, 也可以直接参考我们在github上部署的<a href="http://ctyun.github.io/Mimiron-demo/bss-demo/bss-demo.html">结果页面</a>源码.</p>
</blockquote>

<h3>
<a id="31-引入主题" class="anchor" href="#31-%E5%BC%95%E5%85%A5%E4%B8%BB%E9%A2%98" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.1 引入主题</h3>

<p>我们针对后台页面页面, 开发了一套兼容bootstrap的主题, 在html中按下面方法引入样式:</p>

<pre><code>&lt;link type="text/css" rel="stylesheet" href="../dist/themes/style1/orange-blue.css" id="theme-change" class="style-change color-change"&gt;
&lt;link rel="stylesheet" href="../dist/UI/css/font-awesome.css"&gt;
</code></pre>

<p>由于主题使用js对一些DOM节点进行了配置, 这个文件需要在React的DOM节点展开后进行引入, 因此, 在<em>main.js</em>中创建的组件渲染完毕的生命周期中进行如下操作:</p>

<pre><code>componentDidMount: function(){
    Tools.loadScript(["../dist/frame/theme.js"]);
},
</code></pre>

<blockquote>
<p>使用组件库时, 如果你需要组件渲染完毕后加载某些文件, 也可以写入这个生命周期.</p>
</blockquote>

<h3>
<a id="32-配置路由-功能菜单和导航条" class="anchor" href="#32-%E9%85%8D%E7%BD%AE%E8%B7%AF%E7%94%B1-%E5%8A%9F%E8%83%BD%E8%8F%9C%E5%8D%95%E5%92%8C%E5%AF%BC%E8%88%AA%E6%9D%A1" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.2 配置路由, 功能菜单和导航条</h3>

<p>后台页面一般由顶部导航条, 左边功能菜单和右边的页面区组成, 因此, <em>main.js</em>中定义的组件应该是这个样子:</p>

<pre><code>var ThisPage = React.createClass({
    componentDidMount: function(){
        Tools.loadScript(["../dist/frame/theme.js"]);
    },
    render: function(){
        return(&lt;div&gt;
                &lt;TopBar logout={this._logout} userName={this.props.userName}/&gt;
                &lt;div id="wrapper"&gt;
                    &lt;SideBar list={this.props.menu} /&gt;
                &lt;/div&gt;
            &lt;/div&gt;);
    }
});
React.render(&lt;ThisPage /&gt;, document.getElementById('menu-wrapper'));
</code></pre>

<p>对应的, html页面中需要新建一个<code>&lt;div id="menu-wrapper"&gt;</code>用于渲染导航条和功能菜单.</p>

<h3>
<a id="33-设置路由-编写具体的页面" class="anchor" href="#33-%E8%AE%BE%E7%BD%AE%E8%B7%AF%E7%94%B1-%E7%BC%96%E5%86%99%E5%85%B7%E4%BD%93%E7%9A%84%E9%A1%B5%E9%9D%A2" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.3 设置路由, 编写具体的页面</h3>

<p>在html页面中引入路由, 路由配置和路由页面文件:</p>

<pre><code>  &lt;script  type="text/jsx"  src="../dist/frame/config.js"&gt;&lt;/script&gt;
  &lt;script  type="text/jsx"  src="../dist/frame/router.js"&gt;&lt;/script&gt;
  &lt;script src="../dist/util/tools.js"&gt;&lt;/script&gt;
  &lt;script  type="text/jsx"  src="app.js"&gt;&lt;/script&gt;
</code></pre>

<p>打开<em>app.js</em>进行路由页面的配置</p>

<pre><code>var React components.React;
var Button = components.Button;
var Demo = components.Demo;

var Test=React.createClass({
    render:function(){
        return (&lt;div&gt;&lt;Demo /&gt;&lt;/div&gt;);
    }
});
var Test2=React.createClass({
    render:function(){
        return (&lt;div&gt;test2&lt;/div&gt;);
    }
});
RouteConfig["#test1"]=function(){
    RouteConfig.renderHandle(&lt;Test /&gt;);
};
RouteConfig["#test2"]=function(){
    RouteConfig.renderHandle(&lt;Test2 /&gt;);
};
</code></pre>

<p>我们在<em>#test1</em>页面中放置了Demo组件, 其中包括了几乎全部组件的展示.</p>

<blockquote>
<p>你可以参考<em>/bss-demo/</em>目录,也可以参考我们在github上部署的<a href="http://ctyun.github.io/Mimiron-demo/bss-demo/bss-demo.html">静态页面</a></p>
</blockquote>

<h3>
<a id="34-配置服务器并测试" class="anchor" href="#34-%E9%85%8D%E7%BD%AE%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E6%B5%8B%E8%AF%95" aria-hidden="true"><span class="octicon octicon-link"></span></a>3.4 配置服务器并测试</h3>

<p>左侧功能菜单配置方法请参考<a href="http://const%E7%9A%84API%E6%96%87%E6%A1%A3">这个API文档</a>.
功能菜单中有哪些选项, 是由服务器给出的, 但是不用担心, 不配置服务器, 菜单中也会有默认的选项, 现在就可以进行测试了.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/ctyun/Mimiron-demo">Mimiron-demo</a> is maintained by <a href="https://github.com/ctyun">ctyun</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
